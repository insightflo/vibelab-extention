---
name: recover
description: CLI 중단 후 미완료 작업을 식별하고 재개합니다. /recover, "작업 복구", "중단된 작업" 트리거.
---

# 🔄 Recover Skill

> CLI 다운, 네트워크 끊김, 또는 에이전트 오류로 인해 중단된 작업을 **자동으로 탐지하고 복구**하는 스킬입니다.

---

## ⚡ 스킬 발동 조건

다음 명령어 또는 자연어로 이 스킬을 호출할 수 있습니다:

- `/recover`
- `/복구`
- "중단된 작업 확인해줘"
- "이전 작업 이어서 진행해줘"

---

## 📋 실행 단계 (Execution Steps)

이 스킬이 발동되면 다음 순서로 작업을 수행합니다:

### 1️⃣ Artifact 점검 (Task Tracker)

**경로**: `<appDataDir>/brain/<conversation-id>/task.md`

- `[ ]` (미완료) 또는 `[/]` (진행 중) 상태의 항목이 있는지 확인합니다.
- 발견 시, 해당 항목 목록을 사용자에게 보고합니다.

```bash
# 예시 출력
## 🚧 미완료 작업 발견
- [ ] Phase 1, T1.3: StockList 컴포넌트 구현 (in task.md)
- [/] API 클라이언트 설정 (in task.md)
```

### 2️⃣ 최근 대화 히스토리 확인

**대상**: 최근 Conversation 요약 목록

- 현재 대화와 유사한 주제의 이전 대화가 있는지 검색합니다.
- 관련 대화가 있다면 해당 대화 ID와 요약을 보고합니다.

### 3️⃣ 프로젝트 폴더 점검

**대상**: 사용자가 제공한 경로 또는 현재 활성 문서 경로

다음 패턴의 불완전한 파일을 탐지합니다:

| 패턴           | 설명                                            |
| -------------- | ----------------------------------------------- |
| 열린 코드 블록 | ` ``` ` 로 시작했으나 닫히지 않은 마크다운      |
| 누락된 괄호    | `{`, `[`, `(` 등이 닫히지 않은 코드 파일        |
| TODO 마커      | `// TODO:`, `# FIXME:` 등 미완성 표시           |
| 빈 함수        | `pass`, `throw new Error('Not implemented')` 등 |

### 4️⃣ 복구 제안 (Recovery Proposal)

점검 결과를 바탕으로 다음 중 하나를 제안합니다:

- **A. 자동 복구**: 탐지된 미완료 항목을 즉시 이어서 완료합니다.
- **B. 수동 선택**: 복구할 항목 목록을 보여주고 사용자가 선택하도록 합니다.
- **C. 새로 시작**: 이전 작업을 무시하고 새 작업을 시작합니다.

---

## 🛡️ 제약 사항

1. **저장되지 않은 데이터는 복구 불가**: 파일로 저장되기 전에 CLI가 종료된 경우, 해당 내용은 유실됩니다.
2. **터미널 명령 복원 불가**: `npm run dev` 등 실행 중이던 프로세스는 자동으로 재시작되지 않습니다. 필요시 사용자에게 재실행을 안내합니다.

---

## 💡 사용 예시

**입력**:

```
/recover
```

**출력 예시**:

```
## 🔍 복구 점검 결과

### 📋 Artifact 상태
- `task.md` 발견: 2개 미완료 항목

### 📁 프로젝트 점검
- `d:\Projects\my-app\src\api\client.ts`: 열린 괄호 탐지 (Line 45)

### 🚀 권장 조치
1. [자동 복구] task.md의 미완료 항목 이어서 진행
2. [수동 수정] client.ts Line 45 확인 필요

어떻게 진행할까요? (1/2/취소)
```

---

**Last Updated**: 2026-01-23
