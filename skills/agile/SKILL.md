---
name: agile
description: 사용자와의 정기적인 체크인과 스프린트 관리를 담당하는 애자일 마스터입니다. /agile, /sprint, "스프린트 시작", "체크포인트" 트리거.
version: 2.2.0
updated: 2026-02-07
---

# 🏃 Agile Sprint Master

> **목적**: 개발 과정을 1~3일 단위의 작은 스프린트로 쪼개고, 각 단계마다 사용자(Customer/PO)에게 결과물을 검토받아 만족도를 높입니다.
>
> - **최상위 지침**: 모든 스프린트 관리는 **[TEAM-CHARTER.md](../../TEAM-CHARTER.md)**의 규칙을 최우선으로 따릅니다.
>
> **⚠️ 바이브랩스킬과의 역할 분담:**
> | 스킬 | 용도 | 규모 |
> |------|------|------|
> | `/auto-orchestrate` | 완전 자동화 (병렬 실행) | 30~200개 태스크 |
> | **`/agile` (이 스킬)** | **사용자 협업 + 레이어별 체크포인트** | **1~30개 태스크** |
> | `/tasks-generator` | 태스크 생성만 | - |
>
> **고유 기능**: Skeleton→Muscles→Skin 레이어 기반 점진적 완성 (Horizontal Slicing)
>
> **v2.2.0 업데이트**: vibelab v1.9.2 Hook 시스템 연동 (skill-router 자동 감지)

---

## 🏗️ 실행 프로세스

### 1. 스프린트 계획 (점진적 전체 완성 - Horizontal Slicing)

- **철학**: 기능을 하나씩 완성하는 것이 아니라, **전체 시스템의 모습(Whole)을 유지하며 수준을 높여가는 방식**을 취합니다.
- **레이어 별 스프린트 정의**:
  1. **Skeleton (뼈대)**: 전체 레이아웃, 더미 데이터, 주요 네비게이션 구조화. (Review 목표: "전체적인 틀이 맞는가?")
  2. **Muscles (근육)**: 실제 데이터 연동, 핵심 비즈니스 로직, 인터랙션 구현. (Review 목표: "실제로 잘 작동하는가?")
  3. **Skin & Polish (피부)**: 디자인 시스템 정밀 적용, 애니메이션, 예외 처리, 프리미엄 감성 추가. (Review 목표: "사용감이 훌륭한가?")
- **요구사항 재기술(Restatement)**: "이번 스프린트에서는 [전체 페이지]의 [Skeleton/Muscles/Skin] 레이어를 완성하여 [어떤 가치]를 보여드릴 예정입니다."

### 2. 스프린트 수행 (Execution)

- 정해진 스프린트 범위 내에서 집중적으로 개발을 진행합니다.
- 작업 중 발견된 새로운 아이디어나 변경 사항은 즉시 **스프린트 백로그**에 기록하고 사용자에게 공유합니다.
- **[필수] 태스크 동기화**: 매 태스크 실행 시 `06-tasks.md`를 즉시 업데이트합니다. (TEAM-CHARTER 준수)
- **[필수] 문서 동기화**: 코드 변경 시 관련 기획 문서를 즉시 최신화합니다.

### 3. 체크포인트 (Sprint Review)

- **시각적 현황 캡처 (Visual Status)**: `notify_user` 호출 전, `chrome-browser` 스킬(또는 `agent-browser`)을 사용하여 현재 구현된 기능의 화면을 캡처합니다.
  - `agent-browser open` -> `agent-browser wait` -> `agent-browser screenshot`
- **반드시 `notify_user` 호출**: 각 스프린트 목표 달성 시 또는 마일스톤 종료 시, 코드와 함께 **시각적 결과물(캡처 이미지)**을 제공하고 승인을 요청합니다.
- 사용자의 피드백을 수집하여 즉시 다음 작업에 반영합니다.

### 4. 품질 게이트 (Quality Gate) - v1.8.0

각 레이어 완료 시 **품질 검증**을 수행합니다:

```
┌─────────────────────────────────────────────────────────────┐
│  레이어 완료 → 품질 게이트 체크                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🦴 Skeleton 완료 시:                                       │
│  └── 린트 통과 + 빌드 성공 확인                             │
│                                                             │
│  💪 Muscles 완료 시:                                        │
│  └── 린트 + 빌드 + 단위 테스트 통과                         │
│  └── /code-review 권장                                      │
│                                                             │
│  ✨ Skin 완료 시:                                           │
│  └── 전체 테스트 + /audit 실행 권장                         │
│  └── /verification-before-completion 필수                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎯 핵심 원칙 (INVEST)

태스크를 정의하거나 스프린트를 쪼갤 때 항상 다음 원칙을 준수합니다.

- **I**ndependent: 각 태스크는 다른 태스크와 독립적으로 완료/검토될 수 있어야 합니다.
- **N**egotiable: 요구사항은 고정된 것이 아니며 사용자와 협의 가능합니다.
- **V**aluable: 각 스프린트 결과물은 사용자에게 실질적인 가치를 제공해야 합니다.
- **E**stimatable: 작업 규모를 예측할 수 있을 만큼 작아야 합니다.
- **S**mall: 1~3일 내에 완료될 수 있는 크기여야 합니다.
- **T**estable: 완료 여부를 명확하게 검증할 수 있어야 합니다.

---

## 🛠️ 주요 명령어 대응

| 명령어                          | 설명                                                     |
| :------------------------------ | :------------------------------------------------------- |
| `/agile start`                  | 새로운 스프린트 계획을 제안합니다.                       |
| `/agile status`                 | 현재 스프린트 진행 상황과 남은 작업을 요약합니다.        |
| `/agile review`                 | 현재까지의 성과를 요약하여 사용자에게 검토를 요청합니다. |
| `/agile run {task-id}`          | 특정 태스크 실행을 시작합니다.                           |
| `/agile done {task-id}`         | 특정 태스크 완료를 처리합니다.                           |
| **`/agile auto`**               | **초기 빌드: 전체 레이어 자동 실행 + 체크포인트**        |
| **`/agile iterate "변경사항"`** | **변경/추가: 영향받는 레이어만 선택적 실행**             |

---

## 🔄 반복 작업 모드 (`/agile iterate`)

> **목적**: 이미 완성된 코드베이스에서 **디자인 변경, 새 기능 추가, 업무 로직 수정** 등을 처리합니다.

### 사용 예시

```bash
# 디자인 변경
/agile iterate "메인 페이지 디자인 리뉴얼"

# 새 기능 추가
/agile iterate "결제 시스템 추가"

# 업무 로직 변경
/agile iterate "할인 로직 변경: 쿠폰 중복 적용 허용"
```

### 실행 흐름

```
/agile iterate "변경사항 설명" 실행
    ↓
┌─────────────────────────────────────────────────────────────┐
│  1️⃣ 변경 범위 분석                                           │
│  - 변경 요청 해석                                             │
│  - 기존 코드베이스 스캔 (영향받는 파일 파악)                   │
│  - 영향받는 레이어 자동 판별                                  │
├─────────────────────────────────────────────────────────────┤
│  📋 분석 결과 → 사용자 확인                                   │
│  "이 변경은 [Muscles], [Skin] 레이어에 영향을 줍니다.         │
│   영향받는 파일: 5개. 진행할까요?"                            │
│  [승인] → 실행 / [조정] → 범위 수정                           │
└─────────────────────────────────────────────────────────────┘
    ↓ (사용자 승인)
┌─────────────────────────────────────────────────────────────┐
│  2️⃣ 영향받는 레이어만 선택적 실행                             │
│                                                             │
│  [건너뜀] 🦴 Skeleton (영향 없음)                             │
│                                                             │
│  💪 MUSCLES 레이어 실행 → 완료 시 사용자 확인                 │
│  ✨ SKIN 레이어 실행 → 완료 시 사용자 확인                    │
└─────────────────────────────────────────────────────────────┘
    ↓
┌─────────────────────────────────────────────────────────────┐
│  3️⃣ 최종 검증 및 보고                                        │
│  - 변경 전/후 비교 (가능 시 스크린샷)                         │
│  - 테스트 실행 결과                                          │
│  - Git diff 요약                                             │
└─────────────────────────────────────────────────────────────┘
```

### 변경 유형별 영향 레이어 자동 판별

| 변경 유형          | 영향 레이어           | 예시                                       |
| :----------------- | :-------------------- | :----------------------------------------- |
| **디자인 변경**    | ✨ Skin               | 색상, 폰트, 애니메이션, 레이아웃 미세 조정 |
| **UI 구조 변경**   | 🦴 Skeleton + ✨ Skin | 페이지 구조, 네비게이션 변경               |
| **새 기능 추가**   | 🦴 + 💪 + ✨ 전체     | 새로운 화면/API/DB 모델 추가               |
| **업무 로직 변경** | 💪 Muscles            | API 로직, 유효성 검증, 계산 로직           |
| **버그 수정**      | 해당 레이어만         | 문제가 있는 레이어만 타겟팅                |

### `/agile auto` vs `/agile iterate` 비교

| 항목            | `/agile auto`                       | `/agile iterate`            |
| :-------------- | :---------------------------------- | :-------------------------- |
| **용도**        | 초기 빌드                           | 변경/추가 작업              |
| **실행 범위**   | 전체 레이어 (Skeleton→Muscles→Skin) | 영향받는 레이어만           |
| **태스크 생성** | TASKS.md 전체 실행                  | 새 태스크 자동 생성 후 실행 |
| **체크포인트**  | 각 레이어 완료 시                   | 각 레이어 완료 시           |

---

## 🤖 레이어별 자동 실행 (`/agile auto`)

> **목적**: 뼈대 → 근육 → 스킨 각 레이어를 자동으로 실행하되, **각 레이어 완료 시 반드시 사용자 확인**을 받아 수정 사항을 즉시 반영합니다.

### 실행 흐름

```
/agile auto 실행
    ↓
┌─────────────────────────────────────────────────────────────┐
│  🦴 SKELETON (뼈대) 레이어                                   │
│  - 전체 레이아웃, 더미 데이터, 네비게이션 구조                 │
│  - 관련 태스크 자동 실행                                      │
├─────────────────────────────────────────────────────────────┤
│  ✅ 레이어 완료 → 스크린샷 캡처 → notify_user                 │
│  "뼈대가 완성되었습니다. 전체적인 틀이 맞는지 확인해주세요."   │
│  [승인] → 다음 레이어 / [수정 요청] → 즉시 반영 후 재확인      │
└─────────────────────────────────────────────────────────────┘
    ↓ (사용자 승인)
┌─────────────────────────────────────────────────────────────┐
│  💪 MUSCLES (근육) 레이어                                    │
│  - 실제 데이터 연동, 핵심 비즈니스 로직, 인터랙션              │
│  - 관련 태스크 자동 실행                                      │
├─────────────────────────────────────────────────────────────┤
│  ✅ 레이어 완료 → 스크린샷 캡처 → notify_user                 │
│  "기능이 구현되었습니다. 실제로 잘 작동하는지 확인해주세요."   │
│  [승인] → 다음 레이어 / [수정 요청] → 즉시 반영 후 재확인      │
└─────────────────────────────────────────────────────────────┘
    ↓ (사용자 승인)
┌─────────────────────────────────────────────────────────────┐
│  ✨ SKIN (스킨) 레이어                                       │
│  - 디자인 시스템 정밀 적용, 애니메이션, 예외 처리              │
│  - 관련 태스크 자동 실행                                      │
├─────────────────────────────────────────────────────────────┤
│  ✅ 레이어 완료 → 스크린샷 캡처 → notify_user                 │
│  "완성되었습니다. 사용감이 훌륭한지 최종 확인해주세요."        │
└─────────────────────────────────────────────────────────────┘
```

### 태스크-레이어 매핑 규칙

`docs/planning/06-tasks.md`에서 태스크를 레이어별로 분류합니다:

| 태스크 패턴                     | 레이어      | 예시                       |
| :------------------------------ | :---------- | :------------------------- |
| `T0.*`, `T1.1~T1.3` (초기 구조) | 🦴 Skeleton | 라우팅, 레이아웃, 더미 UI  |
| `T1.4~T2.*` (핵심 기능)         | 💪 Muscles  | API 연동, 상태관리, CRUD   |
| `T3.*` (폴리싱)                 | ✨ Skin     | 애니메이션, 반응형, 접근성 |

> **참고**: 태스크에 `[Skeleton]`, `[Muscles]`, `[Skin]` 태그가 있으면 해당 태그를 우선 사용합니다.

### 체크포인트 메시지 형식

```markdown
## 🦴 Skeleton 레이어 완료!

**완료된 태스크**: T0.1, T0.2, T1.1
**스크린샷**: [첨부]

### 확인 요청

> 전체적인 틀이 맞는지 확인해주세요.
>
> - 레이아웃이 의도한 대로인가요?
> - 네비게이션 구조가 올바른가요?

**다음 단계**: Muscles 레이어 (API 연동, 핵심 로직 구현)

[1] 승인하고 다음 레이어 진행
[2] 수정 요청 (피드백 입력)
```

---

## 📊 태스크 실행 추적 (Task Execution Tracking)

개별 태스크를 시작하고 완료할 때 **자동으로 문서화하고 진행 상황을 추적**합니다.

### `/agile run {task-id}` - 태스크 시작

**실행 시 수행할 작업:**

1. **tasks.md에서 해당 태스크 정보 추출**
2. **실행 계획서 생성**: `docs/reports/{task-id}-plan.md`

   ```markdown
   # Execution Plan: {task-id}

   **시작 시각**: {timestamp}
   **목표**: {task 설명}

   ## 실행 단계

   1. ...
   2. ...

   ## 예상 산출물

   - ...
   ```

3. **tasks.md 업데이트**: 해당 태스크를 `[/]` (진행 중)로 표시
4. **사용자에게 계획 보고** 후 작업 시작

### `/agile done {task-id}` - 태스크 완료

**실행 시 수행할 작업:**

1. **완료 보고서 생성**: `docs/reports/{task-id}-report.md`

   ```markdown
   # Completion Report: {task-id}

   **완료 시각**: {timestamp}
   **소요 시간**: {duration}

   ## 완료된 작업

   - ...

   ## 생성된 파일

   - `path/to/file1.ts`
   - `path/to/file2.tsx`

   ## 테스트 결과

   - ✅ 단위 테스트 통과
   - ✅ 빌드 성공

   ## 다음 단계

   - 다음 태스크: {next-task-id}
   ```

2. **tasks.md 업데이트**: 해당 태스크를 `[x]` (완료)로 표시
3. **Git 커밋 제안** (선택적)

---

## 🔗 스킬 연동 (v2.2.0)

| 상황 | 연동 스킬 | 설명 |
|------|-----------|------|
| **시작 전** | `/workflow` | 현재 상태에 맞는 스킬 추천 |
| **태스크 필요** | `/tasks-generator` | TASKS.md 생성 |
| **대규모 자동화** | `/auto-orchestrate` | 완전 자동화 모드 |
| **레이어 완료 시** | `/trinity` → `/code-review` | 五柱 평가 + 2단계 코드 리뷰 |
| **전체 완료 시** | `/audit` | 품질 감사 |
| **버그 발생 시** | `/systematic-debugging` | 근본 원인 분석 |
| **테스트 자동화** | `/powerqa` | QA 사이클링 **(v1.9.2)** |
| **중단 시** | `/recover` | 작업 복구 |

### 🪝 Hook 연동 (v1.9.2)

| Hook | 효과 |
|------|------|
| `skill-router` | `/agile` 키워드 자동 감지 → 스킬 즉시 로드 |
| `session-memory-loader` | 이전 스프린트 상태 자동 복원 |
| `error-recovery-advisor` | 레이어 실패 시 복구 제안 |

---

## ⚠️ 실패 시 대응

| 실패 유형 | 권장 조치 |
|-----------|-----------|
| **테스트 실패** | `/systematic-debugging` → 수정 → 재실행 |
| **빌드 실패** | 에러 메시지 분석 → `/agile iterate "빌드 에러 수정"` |
| **리뷰 실패** | `/code-review` 피드백 반영 → 재리뷰 |
| **CLI 중단** | `/recover` → `/agile status` → 재개 |

---

**Last Updated**: 2026-02-07 (v2.2.0 - vibelab v1.9.2 Hook System Integration)
